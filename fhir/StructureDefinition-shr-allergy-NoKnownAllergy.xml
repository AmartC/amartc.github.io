<?xml version="1.0" encoding="UTF-8"?>

<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="shr-allergy-NoKnownAllergy"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml">
  <p><b>SHR NoKnownAllergy Profile</b></p>
  <p>The subject has no known allergies to drugs, foods, biologics, or environmental factors.</p>
  <p><b>SHR Mapping Summary</b></p>
<<<<<<< HEAD
  <p><pre>shr.allergy.NoKnownAllergy maps to AllergyIntolerance:
  Entry.Informant maps to asserter
  Entry.Author maps to recorder
  Entry.OriginalCreationDate maps to assertedDate
  AllergenIrritant maps to code
  AdverseReactionType maps to type
  Criticality maps to criticality
  SubstanceCategory maps to category
  AllergyVerificationStatus maps to verificationStatus
  Onset maps to onset[x]
  MostRecentOccurrence maps to lastOccurrence
=======
  <p><pre>shr.allergy.NoKnownAllergy maps to Observation:
  Entry.CreationTime maps to issued
  RelatedEncounter maps to context	
  Subject maps to subject
  Category maps to category
  ClinicallyRelevantTime maps to effective[x]
  FindingMethod maps to method
  FindingStatus maps to status
  Quantity maps to value[x]
  CodeableConcept maps to value[x]
  string maps to value[x]
  boolean maps to value[x]
  Range maps to value[x]
  Ratio maps to value[x]
  Attachment maps to value[x]
  time maps to value[x]
  dateTime maps to value[x]
  TimePeriod maps to value[x]
  IntegerQuantity maps to value[x]
  ValueAbsentReason maps to dataAbsentReason
  ObservationCode maps to code
  BodySite maps to bodySite
  Specimen maps to specimen
  Device maps to device
  Interpretation maps to interpretation
  Details maps to comment
  ReferenceRange maps to referenceRange
  ReferenceRange.Range.LowerBound maps to referenceRange.low
  ReferenceRange.Range.UpperBound maps to referenceRange.high
  ReferenceRange.Type maps to referenceRange.type
  ReferenceRange.ApplicableSubpopulation maps to referenceRange.appliesTo
  ReferenceRange.ApplicableAgeRange maps to referenceRange.age
  fix related.type to #has-member
  ObservationComponent maps to component (slice on = coding.code; slice strategy = includes)
  ObservationComponent.ObservationCode maps to component.code
  ObservationComponent.Quantity maps to component.value[x]
  ObservationComponent.CodeableConcept maps to component.value[x]
  ObservationComponent.string maps to component.value[x]
  ObservationComponent.Range maps to component.value[x]
  ObservationComponent.Ratio maps to component.value[x]
  ObservationComponent.Attachment maps to component.value[x]
  ObservationComponent.time maps to component.value[x]
  ObservationComponent.dateTime maps to component.value[x]
  ObservationComponent.TimePeriod maps to component.value[x]
  ObservationComponent.IntegerQuantity maps to component.value[x]
  ObservationComponent.ValueAbsentReason maps to component.dataAbsentReason
  ObservationComponent.Interpretation maps to component.interpretation
  ObservationComponent.ReferenceRange maps to component.referenceRange
  Members.Observation maps to related.target (slice at = related; slice on = target.reference.resolve(); slice on type = profile; slice strategy = includes)
>>>>>>> 92b20c342... 12/19/17 updates
</pre></p>
</div>
  </text>
  <url value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-allergy-NoKnownAllergy"/>
  <identifier>
    <system value="http://standardhealthrecord.org"/>
    <value value="shr.allergy.NoKnownAllergy"/>
  </identifier>
  <version value="0.0.1"/>
  <name value="SHR NoKnownAllergy Profile"/>
  <status value="draft"/>
<<<<<<< HEAD
  <date value="2017-08-08T15:56:21.223Z"/>
=======
  <date value="2017-12-19"/>
>>>>>>> 92b20c342... 12/19/17 updates
  <publisher value="The MITRE Corporation: Standard Health Record Collaborative"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="http://www.standardhealthrecord.org"/>
    </telecom>
  </contact>
  <description value="The subject has no known allergies to drugs, foods, biologics, or environmental factors."/>
  <purpose value="To record a clinical assessment of a propensity, or potential risk to an individual, of an adverse reaction upon future exposure to the specified substance, or class of substance."/>
  <fhirVersion value="3.0.1"/>
  <mapping>
    <identity value="rim"/>
    <uri value="http://hl7.org/v3"/>
    <name value="RIM Mapping"/>
  </mapping>
  <mapping>
    <identity value="w5"/>
    <uri value="http://hl7.org/fhir/w5"/>
    <name value="W5 Mapping"/>
  </mapping>
  <mapping>
    <identity value="v2"/>
    <uri value="http://hl7.org/v2"/>
    <name value="HL7 v2 Mapping"/>
  </mapping>
  <kind value="resource"/>
  <abstract value="false"/>
  <type value="AllergyIntolerance"/>
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/AllergyIntolerance"/>
  <derivation value="constraint"/>
  <snapshot>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy">
      <path value="AllergyIntolerance"/>
      <short value="SHR NoKnownAllergy Profile"/>
      <definition value="The subject has no known allergies to drugs, foods, biologics, or environmental factors."/>
      <comment value="Substances include, but are not limited to: a therapeutic substance administered correctly at an appropriate dosage for the individual; food; material derived from plants or animals; or venom from insect stings."/>
      <alias value="Allergy"/>
      <alias value="Intolerance"/>
      <alias value="Adverse Reaction"/>
      <min value="0"/>
      <max value="*"/>
      <constraint>
        <key value="dom-2"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL NOT contain nested Resources"/>
        <expression value="contained.contained.empty()"/>
        <xpath value="not(parent::f:contained and f:contained)"/>
        <source value="DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-1"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL NOT contain any narrative"/>
        <expression value="contained.text.empty()"/>
        <xpath value="not(parent::f:contained and f:text)"/>
        <source value="DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-4"/>
        <severity value="error"/>
        <human value="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated"/>
        <expression value="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"/>
        <source value="DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-3"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource"/>
        <expression value="contained.where((&#39;#&#39;+id in %resource.descendants().reference).not()).empty()"/>
        <xpath value="not(exists(for $id in f:contained/*/@id return $id[not(ancestor::f:contained/parent::*/descendant::f:reference/@value=concat(&#39;#&#39;, $id))]))"/>
        <source value="DomainResource"/>
      </constraint>
      <constraint>
        <key value="ait-1"/>
        <severity value="error"/>
        <human value="AllergyIntolerance.clinicalStatus SHALL be present if verificationStatus is not entered-in-error."/>
        <expression value="verificationStatus=&#39;entered-in-error&#39; or clinicalStatus.exists()"/>
        <xpath value="f:verificationStatus/@value=&#39;entered-in-error&#39; or exists(f:clinicalStatus)"/>
      </constraint>
      <constraint>
        <key value="ait-2"/>
        <severity value="error"/>
        <human value="AllergyIntolerance.clinicalStatus SHALL NOT be present if verification Status is entered-in-error"/>
        <expression value="verificationStatus!=&#39;entered-in-error&#39; or clinicalStatus.empty()"/>
        <xpath value="f:verificationStatus/@value!=&#39;entered-in-error&#39; or not(exists(f:clinicalStatus))"/>
      </constraint>
      <mapping>
        <identity value="rim"/>
        <map value="Entity. Role, or Act"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Observation[classCode=OBS, moodCode=EVN]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="clinical.general"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.id">
      <path value="AllergyIntolerance.id"/>
      <short value="Logical id of this artifact"/>
      <definition value="The logical id of the resource, as used in the URL for the resource. Once assigned, this value never changes."/>
      <comment value="The only time that a resource does not have an id is when it is being submitted to the server using a create operation."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="id"/>
      </type>
      <isSummary value="true"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.meta">
      <path value="AllergyIntolerance.meta"/>
      <short value="Metadata about the resource"/>
      <definition value="The metadata about the resource. This is content that is maintained by the infrastructure. Changes to the content may not always be associated with version changes to the resource."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.meta"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Meta"/>
      </type>
      <isSummary value="true"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.implicitRules">
      <path value="AllergyIntolerance.implicitRules"/>
      <short value="A set of rules under which this content was created"/>
      <definition value="A reference to a set of rules that were followed when the resource was constructed, and which must be understood when processing the content."/>
      <comment value="Asserting this rule set restricts the content to be only understood by a limited set of trading partners. This inherently limits the usefulness of the data in the long term. However, the existing health eco-system is highly fractured, and not yet ready to define, collect, and exchange data in a generally computable sense. Wherever possible, implementers and/or specification writers should avoid using this element. &#xA;&#xA;This element is labelled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies it&#39;s meaning or interpretation."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.implicitRules"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <isModifier value="true"/>
      <isSummary value="true"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.language">
      <path value="AllergyIntolerance.language"/>
      <short value="Language of the resource content"/>
      <definition value="The base language in which the resource is written."/>
      <comment value="Language is provided to support indexing and accessibility (typically, services such as text to speech use the language tag). The html language tag in the narrative applies  to the narrative. The language tag on the resource may be used to specify the language of other presentations generated from the data in the resource  Not all the content has to be in the base language. The Resource.language should not be assumed to apply to the narrative automatically. If a language is specified, it should it also be specified on the div element in the html (see rules in HTML5 for information about the relationship between xml:lang and the html lang attribute)."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.language"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-maxValueSet">
          <valueReference>
            <reference value="http://hl7.org/fhir/ValueSet/all-languages"/>
          </valueReference>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Language"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding">
          <valueBoolean value="true"/>
        </extension>
        <strength value="extensible"/>
        <description value="A human language."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/languages"/>
        </valueSetReference>
      </binding>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.text">
      <path value="AllergyIntolerance.text"/>
      <short value="Text summary of the resource, for human interpretation"/>
      <definition value="A human-readable narrative that contains a summary of the resource, and may be used to represent the content of the resource to a human. The narrative need not encode all the structured data, but is required to contain sufficient detail to make it &quot;clinically safe&quot; for a human to just read the narrative. Resource definitions may define what content should be represented in the narrative to ensure clinical safety."/>
      <comment value="Contained resources do not have narrative. Resources that are not contained SHOULD have a narrative. In some cases, a resource may only have text with little or no additional discrete data (as long as all minOccurs=1 elements are satisfied).  This may be necessary for data from legacy systems where information is captured as a &quot;text blob&quot; or where text is additionally entered raw or narrated and encoded in formation is added later."/>
      <alias value="narrative"/>
      <alias value="html"/>
      <alias value="xhtml"/>
      <alias value="display"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DomainResource.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Narrative"/>
      </type>
      <condition value="dom-1"/>
      <mapping>
        <identity value="rim"/>
        <map value="Act.text?"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.contained">
      <path value="AllergyIntolerance.contained"/>
      <short value="Contained, inline Resources"/>
      <definition value="These resources do not have an independent existence apart from the resource that contains them - they cannot be identified independently, and nor can they have their own independent transaction scope."/>
      <comment value="This should never be done when the content can be identified properly, as once identification is lost, it is extremely difficult (and context dependent) to restore it again."/>
      <alias value="inline resources"/>
      <alias value="anonymous resources"/>
      <alias value="contained resources"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.contained"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Resource"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.extension">
      <path value="AllergyIntolerance.extension"/>
      <slicing id="31">
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.extension">
      <path value="Observation.extension"/>
      <slicing id="101">
>>>>>>> 92b20c342... 12/19/17 updates
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the resource. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.extension:abatement">
      <path value="AllergyIntolerance.extension"/>
      <sliceName value="abatement"/>
      <definition value="The end, remission or resolution."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DomainResource.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-condition-Abatement-extension"/>
      </type>
      <mustSupport value="false"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension">
      <path value="AllergyIntolerance.modifierExtension"/>
      <slicing id="32">
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
      <short value="Extensions that cannot be ignored"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the resource, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <isModifier value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension:assertionnegationmodifier">
      <path value="AllergyIntolerance.modifierExtension"/>
      <sliceName value="assertionnegationmodifier"/>
      <definition value="When true, this modifier indicates that the associated observation, assessment, or finding is false, the condition is absent. For example, if the assessment is &#39;allergy to peanuts&#39; and the AssertionNegationModifier is true, it means the subject does not have an allergy to peanuts."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="DomainResource.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
<<<<<<< HEAD
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-base-AssertionNegationModifier-extension"/>
=======
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-FocalSubject-extension"/>
      </type>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.extension:focalsubjectreference">
      <path value="Observation.extension"/>
      <sliceName value="focalsubjectreference"/>
      <definition value="For use when FHIR&#39;s subject does not allow the desired type of Subject in the Finding.Subject field."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-FocalSubjectReference-extension"/>
      </type>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.extension:evidence">
      <path value="Observation.extension"/>
      <sliceName value="evidence"/>
      <definition value="A symptom, observation, or other item, for example, a radiology report, that serves as evidence for the current assessment."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-Evidence-extension"/>
>>>>>>> 92b20c342... 12/19/17 updates
      </type>
      <mustSupport value="true"/>
      <isModifier value="true"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension:assertionnegationmodifier.id">
      <path value="AllergyIntolerance.modifierExtension.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension:assertionnegationmodifier.extension:extension">
      <path value="AllergyIntolerance.modifierExtension.extension"/>
      <sliceName value="extension"/>
      <short value="Extension"/>
      <definition value="An Extension"/>
      <min value="0"/>
      <max value="0"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension:assertionnegationmodifier.url">
      <path value="AllergyIntolerance.modifierExtension.url"/>
      <representation value="xmlAttr"/>
      <short value="identifies the meaning of the extension"/>
      <definition value="Source of the definition for the extension code - a logical name or a URL."/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Extension.url"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <fixedUri value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-base-AssertionNegationModifier-extension"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension:assertionnegationmodifier.valueBoolean">
      <path value="AllergyIntolerance.modifierExtension.valueBoolean"/>
      <short value="Value of extension"/>
      <definition value="Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list)."/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Extension.value[x]"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="boolean"/>
      </type>
      <fixedBoolean value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.identifier">
      <path value="AllergyIntolerance.identifier"/>
      <short value="External ids for this item"/>
      <definition value="This records identifiers associated with this allergy/intolerance concern that are defined by business processes and/or used to refer to it when a direct URL reference to the resource itself is not appropriate (e.g. in CDA documents, or in written / printed documentation)."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Identifier"/>
      </type>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="IAM-7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="id"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="id"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.clinicalStatus">
      <path value="AllergyIntolerance.clinicalStatus"/>
      <short value="active | inactive | resolved"/>
      <definition value="The clinical status of the allergy or intolerance."/>
      <comment value="This element is labeled as a modifier because the status contains the codes inactive and resolved that mark the AllergyIntolerance as not currently valid."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <condition value="ait-1"/>
      <condition value="ait-2"/>
      <isModifier value="true"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="AllergyIntoleranceClinicalStatus"/>
        </extension>
        <strength value="required"/>
        <description value="The clinical status of the allergy or intolerance."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/allergy-clinical-status"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="Observation ACT&#xA;.inboundRelationship[typeCode=COMP].source[classCode=OBS, code=&quot;clinicalStatus&quot;, moodCode=EVN].value"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="status"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.verificationStatus">
      <path value="AllergyIntolerance.verificationStatus"/>
      <short value="unconfirmed | confirmed | refuted | entered-in-error"/>
      <definition value="Assertion about certainty associated with the propensity, or potential risk, of a reaction to the identified substance (including pharmaceutical product)."/>
      <comment value="This element is labeled as a modifier because the status contains the codes refuted and entered-in-error that mark the AllergyIntolerance as not currently valid."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="unconfirmed"/>
      <condition value="ait-1"/>
      <condition value="ait-2"/>
      <isModifier value="true"/>
      <isSummary value="true"/>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/allergy/vs/AllergyVerificationStatusVS"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="Observation ACT&#xA;.inboundRelationship[typeCode=COMP].source[classCode=OBS, code=&quot;verificationStatus&quot;, moodCode=EVN].value"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="status"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.type">
      <path value="AllergyIntolerance.type"/>
      <short value="allergy | intolerance - Underlying mechanism (if known)"/>
      <definition value="Identification of the underlying physiological mechanism for the reaction risk."/>
      <comment value="Allergic (typically immune-mediated) reactions have been traditionally regarded as an indicator for potential escalation to significant future risk. Contemporary knowledge suggests that some reactions previously thought to be immune-mediated are, in fact, non-immune, but in some cases can still pose a life threatening risk. It is acknowledged that many clinicians may not be in a position to distinguish the mechanism of a particular reaction. Often the term &quot;allergy&quot; is used rather generically and may overlap with the use of &quot;intolerance&quot; - in practice the boundaries between these two concepts may not be well-defined or understood. This data element is included nevertheless, because many legacy systems have captured this attribute. Immunologic testing may provide supporting evidence for the basis of the reaction and the causative substance, but no tests are 100% sensitive or specific for sensitivity to a particular substance. If, as is commonly the case, it is unclear whether the reaction is due to an allergy or an intolerance, then the type element should be omitted from the resource."/>
      <alias value="Category"/>
      <alias value="Class"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="allergy"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="AllergyIntoleranceType"/>
        </extension>
        <strength value="required"/>
        <description value="Identification of the underlying physiological mechanism for a Reaction Risk."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/allergy-intolerance-type"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="IAM-9"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="code"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="class"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category">
      <path value="AllergyIntolerance.category"/>
      <slicing id="30">
        <discriminator>
          <type value="value"/>
          <path value="$this"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
      <short value="food | medication | environment | biologic"/>
      <definition value="Category of the identified substance."/>
      <comment value="This data element has been included because it is currently being captured in some clinical systems. This data can be derived from the substance where coding systems are used, and is effectively redundant in that situation.  When searching on category, consider the implications of AllergyIntolerance resources without a category.  For example, when searching on category = medication, medication allergies that don&#39;t have a category valued will not be returned.  Refer to [search](search.html) for more information on how to search category with a :missing modifier to get allergies that don&#39;t have a category.  Additionally, category should be used with caution because category can be subjective based on the sender."/>
      <alias value="Category"/>
      <alias value="Type"/>
      <alias value="Reaction Type"/>
      <alias value="Class"/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="code"/>
      </type>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="AllergyIntoleranceCategory"/>
        </extension>
        <strength value="required"/>
        <description value="Category of an identified substance."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/allergy-intolerance-category"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="AL1-2"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value &lt; IntoleranceValue (Agent)"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="class"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:environment">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="environment"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="environment"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:biologic">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="biologic"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="biologic"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:medication">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="medication"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="medication"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:food">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="food"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="food"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.criticality">
      <path value="AllergyIntolerance.criticality"/>
      <short value="low | high | unable-to-assess"/>
      <definition value="Estimate of the potential clinical harm, or seriousness, of the reaction to the identified substance."/>
      <comment value="The default criticality value for any propensity to an adverse reaction should be &#39;Low Risk&#39;, indicating at the very least a relative contraindication to deliberate or voluntary exposure to the substance. &#39;High Risk&#39; is flagged if the clinician has identified a propensity for a more serious or potentially life-threatening reaction, such as anaphylaxis, and implies an absolute contraindication to deliberate or voluntary exposure to the substance. If this element is missing, the criticality is unknown (though it may be known elsewhere).&#xA;&#xA;Systems that capture a severity at the condition level are actually representing the concept of criticality whereas the severity documented at the reaction level is representing the true reaction severity.  Existing systems that are capturing both condition criticality and reaction severity may use the term &quot;severity&quot; to represent both.  Criticality is the worst it could be in the future (i.e. situation-agnostic) whereas severity is situation-dependent."/>
      <alias value="Severity"/>
      <alias value="Seriousness"/>
      <alias value="Contra-indication"/>
      <alias value="Risk"/>
      <min value="0"/>
      <max value="0"/>
      <type>
        <code value="code"/>
      </type>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="AllergyIntoleranceCriticality"/>
        </extension>
        <strength value="required"/>
        <description value="Estimate of the potential clinical harm, or seriousness, of a reaction to an identified substance."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/allergy-intolerance-criticality"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="AL1-4"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=SUBJ].source[classCode=OBS, moodCode=EVN, code=SEV, value &lt;= SeverityObservation (Severity Level)]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="grade"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.code">
      <path value="AllergyIntolerance.code"/>
      <short value="Code that identifies the allergy or intolerance"/>
      <definition value="Code for an allergy or intolerance statement (either a positive or a negated/excluded statement).  This may be a code for a substance or pharmaceutical product that is considered to be responsible for the adverse reaction risk (e.g., &quot;Latex&quot;), an allergy or intolerance condition (e.g., &quot;Latex allergy&quot;), or a negated/excluded code for a specific substance or class (e.g., &quot;No latex allergy&quot;) or a general or categorical negated statement (e.g.,  &quot;No known allergy&quot;, &quot;No known drug allergies&quot;)."/>
      <comment value="It is strongly recommended that this element be populated using a terminology, where possible. For example, some terminologies used include RxNorm, SNOMED CT, DM+D, NDFRT, ICD-9, IDC-10, UNI, ATC and CPT. Plain text should only be used if there is no appropriate terminology available. Additional details can be specified in the text.&#xD;&#xD;When a substance or product code is specified for the &#39;code&#39; element, the &quot;default&quot; semantic context is that this is a positive statement of an allergy or intolerance (depending on the value of the &#39;type&#39; element, if present) condition to the specified substance/product.  In the corresponding SNOMED CT allergy model, the specified substance/product is the target (destination) of the &quot;Causative agent&quot; relationship.&#xD;&#xD;The &#39;substanceExposureRisk&#39; extension is available as a structured and more flexible alternative to the &#39;code&#39; element for making positive or negative allergy or intolerance statements.  This extension provides the capability to make &quot;no known allergy&quot; (or &quot;no risk of adverse reaction&quot;) statements regarding any coded substance/product (including cases when a pre-coordinated &quot;no allergy to x&quot; concept for that substance/product does not exist).  If the &#39;substanceExposureRisk&#39; extension is present, the AllergyIntolerance.code element SHALL be omitted."/>
      <alias value="Code"/>
      <min value="0"/>
      <max value="0"/>
      <type>
        <code value="CodeableConcept"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-CodeableConcept"/>
      </type>
      <isSummary value="true"/>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/allergy/vs/AllergenIrritantVS"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="AL1-3 / IAM-3"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="substance/product:&#xD;&#xD;.participation[typeCode=CAGNT].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code &lt;= ExposureAgentEntityType]&#xD;&#xD;negated/excluded substance/product:&#xD;&#xD;.participation[typeCode=CAGNT, negationInd=true].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code &lt;= ExposureAgentEntityType]&#xD;&#xD;positive or negated/excluded condition/situation:&#xD;&#xD;Observation.code=ASSERTION; Observation.value"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="what"/>
      </mapping>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.patient">
      <path value="AllergyIntolerance.patient"/>
      <short value="Who the sensitivity is for"/>
      <definition value="The patient who has the allergy or intolerance."/>
      <alias value="Patient"/>
      <min value="1"/>
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.code.id">
      <path value="Observation.code.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.extension">
      <path value="Observation.code.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding">
      <path value="Observation.code.coding"/>
      <slicing id="99">
        <discriminator>
          <type value="value"/>
          <path value="path"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
      <short value="Code defined by a terminology system"/>
      <definition value="A reference to a code defined by a terminology system."/>
      <comment value="Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true."/>
      <requirements value="Allows for translations and alternate encodings within a code system.  Also supports communication of the same instance to systems requiring different encodings."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Coding"/>
      </type>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.1-8, C*E.10-22"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="union(., ./translation)"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept.coding rdfs:subPropertyOf dt:CD.coding"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625">
      <path value="Observation.code.coding"/>
      <sliceName value="Fixed_C1301625"/>
      <definition value="A reference to a code defined by a terminology system."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Coding"/>
      </type>
      <isSummary value="true"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.id">
      <path value="Observation.code.coding.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.extension">
      <path value="Observation.code.coding.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.system">
      <path value="Observation.code.coding.system"/>
      <short value="Identity of the terminology system"/>
      <definition value="The identification of the code system that defines the meaning of the symbol in the code."/>
      <comment value="The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7&#39;s list of FHIR defined special URIs or it should de-reference to some definition that establish the system clearly and unambiguously."/>
      <requirements value="Need to be unambiguous about the source of the definition of the symbol."/>
      <min value="0"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
      </type>
<<<<<<< HEAD
=======
      <fixedUri value="http://ncimeta.nci.nih.gov"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="(PID-3)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=SBJ].role[classCode=PAT]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="who.focus"/>
      </mapping>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.onset[x]">
      <path value="AllergyIntolerance.onset[x]"/>
      <short value="When allergy or intolerance was identified"/>
      <definition value="Estimated or actual date,  date-time, or age when allergy or intolerance was identified."/>
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.version">
      <path value="Observation.code.coding.version"/>
      <short value="Version of the system - if relevant"/>
      <definition value="The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured. and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged."/>
      <comment value="Where the terminology does not clearly define what string should be used to identify code system versions, the recommendation is to use the date (expressed in FHIR date format) on which that version was officially published as the version date."/>
>>>>>>> 92b20c342... 12/19/17 updates
      <min value="0"/>
      <max value="0"/>
      <type>
        <code value="dateTime"/>
      </type>
<<<<<<< HEAD
=======
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./codeSystemVersion"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.version rdfs:subPropertyOf dt:CDCoding.codeSystemVersion"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.code">
      <path value="Observation.code.coding.code"/>
      <short value="Symbol in syntax defined by the system"/>
      <definition value="A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination)."/>
      <requirements value="Need to refer to a particular code in the system."/>
      <min value="0"/>
      <max value="1"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <type>
        <code value="Age"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-Age"/>
      </type>
<<<<<<< HEAD
=======
      <fixedCode value="C1301625"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./code"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.code rdfs:subPropertyOf dt:CDCoding.code"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="Observation.code.coding.display"/>
      <short value="Representation defined by the system"/>
      <definition value="A representation of the meaning of the code in the system, following the rules of the system."/>
      <requirements value="Need to be able to carry a human-readable meaning of the code for readers that do not know  the system."/>
      <min value="0"/>
      <max value="1"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <type>
        <code value="Period"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-TimePeriod"/>
      </type>
<<<<<<< HEAD
=======
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.2 - but note this is not well followed"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV.displayName"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding.display rdfs:subPropertyOf dt:CDCoding.displayName"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.userSelected">
      <path value="Observation.code.coding.userSelected"/>
      <short value="If this coding was chosen directly by the user"/>
      <definition value="Indicates that this coding was chosen by a user directly - i.e. off a pick list of available items (codes or displays)."/>
      <comment value="Amongst a set of alternatives, a directly chosen code is the most appropriate starting point for new translations. There is some ambiguity about what exactly &#39;directly chosen&#39; implies, and trading partner agreement may be needed to clarify the use of this element and its consequences more completely."/>
      <requirements value="This has been identified as a clinical safety criterium - that this exact system/code pair was chosen explicitly, rather than inferred by the system based on some rules or language processing."/>
      <min value="0"/>
      <max value="1"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <type>
        <code value="Range"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-AgeRange"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="effectiveTime.low"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="when.init"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.assertedDate">
      <path value="AllergyIntolerance.assertedDate"/>
      <short value="Date record was believed accurate"/>
      <definition value="The date on which the existance of the AllergyIntolerance was first asserted or acknowledged."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="dateTime"/>
      </type>
      <mapping>
        <identity value="v2"/>
        <map value="IAM-20"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=AUT].time"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="when.recorded"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.recorder">
      <path value="AllergyIntolerance.recorder"/>
      <short value="Who recorded the sensitivity"/>
      <definition value="Individual who recorded the record and takes responsibility for its content."/>
      <alias value="Author"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-actor-Practitioner"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-demographics-PersonOfRecord"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=AUT].role"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="who.author"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.asserter">
      <path value="AllergyIntolerance.asserter"/>
      <short value="Source of the information about the allergy"/>
      <definition value="The source of the information about the allergy that is recorded."/>
      <comment value="The recorder takes repsonsibility for the content, but can reference the source from where they got it."/>
      <alias value="Source"/>
      <alias value="Informant"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-demographics-PersonOfRecord"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-actor-RelatedPerson"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-actor-Practitioner"/>
      </type>
      <isSummary value="true"/>
<<<<<<< HEAD
=======
      <mapping>
        <identity value="workflow"/>
        <map value="Event.performer"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX.15 / (Practitioner)  OBX-16,  PRT-5:PRT-4=&#39;RO&#39; /  (Device)  OBX-18 , PRT-10:PRT-4=&#39;EQUIP&#39; / (Organization)  OBX-23,  PRT-8:PRT-4=&#39;PO&#39;"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="participation[typeCode=PRF]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="who.actor"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.value[x]">
      <path value="Observation.value[x]"/>
      <slicing id="100">
        <discriminator>
          <type value="type"/>
          <path value="$this"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
      <short value="Actual result"/>
      <definition value="The information determined as a result of making the observation, if the information has a simple value."/>
      <comment value="Normally, an observation will have either a single value or a set of related observations. A few observations (e.g. Apgar score) may have both a value and related observations (for an Apgar score, the observations from which the measure is derived). If a value is present, the datatype for this element should be determined by Observation.code. This element has a variable name depending on the type as follows: valueQuantity, valueCodeableConcept, valueString, valueBoolean, valueRange, valueRatio, valueSampledData, valueAttachment, valueTime, valueDateTime, or valuePeriod. (The name format is &quot;&#39;value&#39; + the type name&quot; with a capital on the first letter of the type).&#xD;&#xD;&#xD;If the data element is usually coded or if the type associated with the Observation.value defines a coded value, use CodeableConcept instead of string datatype even if the value is uncoded text.  A value set is bound to the ValueCodeableConcept element.    For further discussion and examples see the  [notes section](observation.html#notes) below."/>
      <requirements value="An observation exists to have a value, though it may not if it is in error, or if it represents a group of observations."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <condition value="obs-7"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.notDone, Event.notDoneReason  (maps to valeu[x] or dataAbsentReason)"/>
      </mapping>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 441742003 |Evaluation finding|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX.2, OBX.5, OBX.6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value"/>
      </mapping>
      <mapping>
        <identity value="sct-attr"/>
        <map value="363714003 |Interprets|"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.valueCodeableConcept:CodeableConcept">
      <path value="Observation.valueCodeableConcept"/>
      <sliceName value="CodeableConcept"/>
      <short value="Actual result"/>
      <definition value="The information determined as a result of making the observation, if the information has a simple value."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <isSummary value="true"/>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/allergy/vs/NoKnownAllergyVS"/>
        </valueSetReference>
      </binding>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.dataAbsentReason">
      <path value="Observation.dataAbsentReason"/>
      <short value="Why the result is missing"/>
      <definition value="Provides a reason why the expected value in the element Observation.value[x] is missing."/>
      <comment value="Null or exceptional values can be represented two ways in FHIR Observations.  One way is to simply include them in the value set and represent the exceptions in the value.  For example, measurement values for a serology test could be  &quot;detected&quot;, &quot;not detected&quot;, &quot;inconclusive&quot;, or  &quot;specimen unsatisfactory&quot;.   The alternate way is to use the value element for actual observations and use the explicit dataAbsentReason element to record exceptional values.  For example, the dataAbsentReason code &quot;error&quot; could be used when the measurement was not completed. Note that an observation may only be reported if there are values to report. For example differential cell counts values may be reported only when &gt; 0.  Because of these options, use-case agreements are required to interpret general observations for null or exceptional values."/>
      <requirements value="For many results it is necessary to handle exceptional values in measurements."/>
      <min value="0"/>
      <max value="0"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <condition value="obs-6"/>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/finding/vs/ValueAbsentReasonVS"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.notDone, Event.notDoneReason  (maps to valeu[x] or dataAbsentReason)"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="N/A"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value.nullFlavor"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.interpretation">
      <path value="Observation.interpretation"/>
      <short value="High, low, normal, etc."/>
      <definition value="The assessment made based on the result of the observation.  Intended as a simple compact code often placed adjacent to the result value in reports and flow sheets to signal the meaning/normalcy status of the result. Otherwise known as abnormal flag."/>
      <requirements value="For some results, particularly numeric results, an interpretation is necessary to fully understand the significance of a result."/>
      <alias value="Abnormal Flag"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ObservationInterpretation"/>
        </extension>
        <strength value="required"/>
        <description value="Codes identifying interpretations of observations."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/observation-interpretation"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 260245000 |Findings values|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-8"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="interpretationCode"/>
      </mapping>
      <mapping>
        <identity value="sct-attr"/>
        <map value="363713009 |Has interpretation|"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.comment">
      <path value="Observation.comment"/>
      <short value="Comments about result"/>
      <definition value="May include statements about significant, unexpected or unreliable values, or information about the source of the value where this may be relevant to the interpretation of the result."/>
      <requirements value="Need to be able to provide free text additional information."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.note"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="NTE.3 (partner NTE to OBX, or sometimes another (child?) OBX)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="subjectOf.observationEvent[code=&quot;annotation&quot;].value"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.bodySite">
      <path value="Observation.bodySite"/>
      <short value="Observed body part"/>
      <definition value="Indicates the site on the subject&#39;s body where the observation was made (i.e. the target site)."/>
      <comment value="Only used if not implicit in code found in Observation.code.  In many systems, this may be represented as a related observation instead of an inline component.   If the use case requires BodySite to be handled as a separate resource (e.g. to identify and track separately) then use the standard extension[ body-site-instance](extension-body-site-instance.html)."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/core/vs/BodySiteVS"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 123037004 |Body structure|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-20"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="targetSiteCode"/>
      </mapping>
      <mapping>
        <identity value="sct-attr"/>
        <map value="718497002 |Inherent location|"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.method">
      <path value="Observation.method"/>
      <short value="How it was done"/>
      <definition value="Indicates the mechanism used to perform the observation."/>
      <comment value="Only used if not implicit in code for Observation.code."/>
      <requirements value="In some cases, method can impact results and is thus used for determining whether results can be compared or determining significance of results."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ObservationMethod"/>
        </extension>
        <strength value="example"/>
        <description value="Methods for simple observations."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/observation-methods"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-17"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="methodCode"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.specimen">
      <path value="Observation.specimen"/>
      <short value="Specimen used for this observation"/>
      <definition value="The specimen that was used when this observation was made."/>
      <comment value="Should only be used if not implicit in code found in `Observation.code`.  Observations are not made on specimens themselves; they are made on a subject, but in many cases by the means of a specimen. Note that although specimens are often involved, they are not always tracked and reported explicitly. Also note that observation resources may be used in contexts that track the specimen explicitly (e.g. Diagnostic Report)."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-entity-Specimen"/>
      </type>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 123038009 |Specimen|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="SPM segment"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="participation[typeCode=SPC].specimen"/>
      </mapping>
      <mapping>
        <identity value="sct-attr"/>
        <map value="704319004 |Inherent in|"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.device">
      <path value="Observation.device"/>
      <short value="(Measurement) Device"/>
      <definition value="The device used to generate the observation data."/>
      <comment value="An extension should be used if further typing of the device is needed.  Devices used to support obtaining an observation can be represented using either an extension or through the Observation.related element."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-device-Device"/>
      </type>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 49062001 |Device|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-17 / PRT -10"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="participation[typeCode=DEV]"/>
      </mapping>
      <mapping>
        <identity value="sct-attr"/>
        <map value="424226004 |Using device|"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange">
      <path value="Observation.referenceRange"/>
      <short value="Provides guide for interpretation"/>
      <definition value="Guidance on how to interpret the value by comparison to a normal or recommended range."/>
      <comment value="Most observations only have one generic reference range. Systems MAY choose to restrict to only supplying the relevant reference range based on knowledge about the patient (e.g., specific to the patient&#39;s age, gender, weight and other factors), but this may not be possible or appropriate. Whenever more than one reference range is supplied, the differences between them SHOULD be provided in the reference range and/or age properties."/>
      <requirements value="Knowing what values are considered &quot;normal&quot; can help evaluate the significance of a particular result. Need to be able to provide multiple reference ranges for different contexts."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() | (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="Element"/>
      </constraint>
      <constraint>
        <key value="obs-3"/>
        <severity value="error"/>
        <human value="Must have at least a low or a high or text"/>
        <expression value="low.exists() or high.exists() or text.exists()"/>
        <xpath value="(exists(f:low) or exists(f:high)or exists(f:text))"/>
      </constraint>
      <mapping>
        <identity value="v2"/>
        <map value="OBX.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="outboundRelationship[typeCode=REFV]/target[classCode=OBS, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.id">
      <path value="Observation.referenceRange.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.extension">
      <path value="Observation.referenceRange.extension"/>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.modifierExtension">
      <path value="Observation.referenceRange.modifierExtension"/>
      <short value="Extensions that cannot be ignored"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <isModifier value="true"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.low">
      <path value="Observation.referenceRange.low"/>
      <short value="Low Range, if relevant"/>
      <definition value="The value of the low bound of the reference range.  The low bound of the reference range endpoint is inclusive of the value (e.g.  reference range is &gt;=5 - &lt;=9).   If the low bound is omitted,  it is assumed to be meaningless (e.g. reference range is &lt;=2.3)."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Quantity"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-SimpleQuantity"/>
      </type>
      <condition value="obs-3"/>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value:IVL_PQ.low"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.high">
      <path value="Observation.referenceRange.high"/>
      <short value="High Range, if relevant"/>
      <definition value="The value of the high bound of the reference range.  The high bound of the reference range endpoint is inclusive of the value (e.g.  reference range is &gt;=5 - &lt;=9).   If the high bound is omitted,  it is assumed to be meaningless (e.g. reference range is &gt;= 2.3)."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Quantity"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-SimpleQuantity"/>
      </type>
      <condition value="obs-3"/>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value:IVL_PQ.high"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.type">
      <path value="Observation.referenceRange.type"/>
      <short value="Reference range qualifier"/>
      <definition value="Codes to indicate the what part of the targeted reference population it applies to. For example, the normal or therapeutic range."/>
      <comment value="This SHOULD be populated if there is more than one range.  If this element is not present then the normal range is assumed."/>
      <requirements value="Need to be able to say what kind of reference range this is - normal, recommended, therapeutic, etc,  - for proper interpretation."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ObservationRangeMeaning"/>
        </extension>
        <strength value="extensible"/>
        <description value="Code for the meaning of a reference range."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/referencerange-meaning"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 260245000 |Findings values| OR  &#xD;&lt; 365860008 |General clinical state finding| &#xD;OR &#xD;&lt; 250171008 |Clinical history or observation findings| OR  &#xD;&lt; 415229000 |Racial group| OR &#xD;&lt; 365400002 |Finding of puberty stage| OR&#xD;&lt; 443938003 |Procedure carried out on subject|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-10"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="interpretationCode"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.appliesTo">
      <path value="Observation.referenceRange.appliesTo"/>
      <short value="Reference range population"/>
      <definition value="Codes to indicate the target population this reference range applies to.  For example, a reference range may be based on the normal population or a particular sex or race."/>
      <comment value="This SHOULD be populated if there is more than one range.  If this element is not present then the normal population is assumed."/>
      <requirements value="Need to be able to identify the target population for proper interpretation."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ObservationRangeType"/>
        </extension>
        <strength value="extensible"/>
        <description value="Codes identifying the population the reference range applies to."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/referencerange-appliesto"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 260245000 |Findings values| OR  &#xD;&lt; 365860008 |General clinical state finding| &#xD;OR &#xD;&lt; 250171008 |Clinical history or observation findings| OR  &#xD;&lt; 415229000 |Racial group| OR &#xD;&lt; 365400002 |Finding of puberty stage| OR&#xD;&lt; 443938003 |Procedure carried out on subject|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-10"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="interpretationCode"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.age">
      <path value="Observation.referenceRange.age"/>
      <short value="Applicable age range, if relevant"/>
      <definition value="The age at which this reference range is applicable. This is a neonatal age (e.g. number of weeks at term) if the meaning says so."/>
      <requirements value="Some analytes vary greatly over age."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Range"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-Range"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="outboundRelationship[typeCode=PRCN].targetObservationCriterion[code=&quot;age&quot;].value"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.text">
      <path value="Observation.referenceRange.text"/>
      <short value="Text based reference range in an observation"/>
      <definition value="Text based reference range in an observation which may be used when a quantitative range is not appropriate for an observation.  An example would be a reference value of &quot;Negative&quot; or a list or table of &#39;normals&#39;."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value:ST"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related">
      <path value="Observation.related"/>
      <short value="Resource related to this observation"/>
      <definition value="A  reference to another resource (usually another Observation) whose relationship is defined by the relationship type code."/>
      <comment value="For a discussion on the ways Observations can assembled in groups together see [Notes below](observation.html#4.20.4)."/>
      <requirements value="Normally, an observation will have either a value or a set of related observations. A few observations (e.g. Apgar score) may have both a value and a set of related observations or sometimes a QuestionnaireResponse from which the measure is derived."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() | (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="Element"/>
      </constraint>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="Relationships established by OBX-4 usage"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="outBoundRelationship"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.id">
      <path value="Observation.related.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.extension">
      <path value="Observation.related.extension"/>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.modifierExtension">
      <path value="Observation.related.modifierExtension"/>
      <short value="Extensions that cannot be ignored"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <isModifier value="true"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.type">
      <path value="Observation.related.type"/>
      <short value="has-member | derived-from | sequel-to | replaces | qualified-by | interfered-by"/>
      <definition value="A code specifying the kind of relationship that exists with the target resource."/>
      <comment value="The &quot;derived-from&quot; type is the only logical choice when referencing the QuestionnaireAnswer resource."/>
      <requirements value="A relationship type SHOULD be provided."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="has-member"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ObservationRelationshipType"/>
        </extension>
        <strength value="required"/>
        <description value="Codes specifying how two observations are related."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/observation-relationshiptypes"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="N/A"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".typeCode"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.target">
      <path value="Observation.related.target"/>
      <short value="Resource that is related to this one"/>
      <definition value="A reference to the observation or [QuestionnaireResponse](questionnaireresponse.html#) resource that is related to this observation."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-Observation"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value=".targetObservation"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component">
      <path value="Observation.component"/>
      <short value="Component results"/>
      <definition value="Some observations have multiple component observations.  These component observations are expressed as separate code value pairs that share the same attributes.  Examples include systolic and diastolic component observations for blood pressure measurement and multiple component observations for genetics observations."/>
      <comment value="For a discussion on the ways Observations can be assembled in groups together see [Notes](observation.html#notes) below."/>
      <requirements value="Component observations share the same attributes in the Observation resource as the primary observation and are always treated a part of a single observation (they are not separable).   However, the reference range for the primary observation value is not inherited by the component values and is required when appropriate for each component observation."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() | (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="Element"/>
      </constraint>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="containment by OBX-4?"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="outBoundRelationship[typeCode=COMP]"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component.id">
      <path value="Observation.component.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component.extension">
      <path value="Observation.component.extension"/>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component.modifierExtension">
      <path value="Observation.component.modifierExtension"/>
      <short value="Extensions that cannot be ignored"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <isModifier value="true"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component.code">
      <path value="Observation.component.code"/>
      <short value="Type of component observation (code / type)"/>
      <definition value="Describes what was observed. Sometimes this is called the observation &quot;code&quot;."/>
      <requirements value="Knowing what kind of observation is being made is essential to understanding the observation."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ObservationCode"/>
        </extension>
        <strength value="example"/>
        <description value="Codes identifying names of simple observations."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/observation-codes"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="sct-concept"/>
        <map value="&lt; 363787002 |Observable entity| OR &#xD;&lt; 386053000 |Evaluation procedure|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX-3"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="code"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="what"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component.value[x]">
      <path value="Observation.component.value[x]"/>
      <short value="Actual component result"/>
      <definition value="The information determined as a result of making the observation, if the information has a simple value."/>
      <comment value="Normally, an observation will have either a single value or a set of related observations. A few observations (e.g. Apgar score) may have both a value and related observations (for an Apgar score, the observations from which the measure is derived). If a value is present, the datatype for this element should be determined by Observation.code. A CodeableConcept with just a text would be used instead of a string if the field was usually coded, or if the type associated with the Observation.code defines a coded value.   For boolean values use valueCodeableConcept and select codes from &lt;http://hl7.org/fhir/ValueSet/v2-0136&gt; (these &quot;yes/no&quot; concepts can be mapped to the display name &quot;true/false&quot; or other mutually exclusive terms that may be needed&quot;).  The element, Observation.value[x], has a variable name depending on the type as follows: valueQuantity, valueCodeableConcept, valueRatio, valueChoice, valuePeriod, valueSampleData, or valueString (the name format is &quot;&#39;value&#39; + the type name&quot; with a capital on the first letter of the type)."/>
      <requirements value="An observation exists to have a value, though it may not if it is in error, or if it represents a group of observations."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Quantity"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-IntegerQuantity"/>
      </type>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <type>
        <code value="string"/>
      </type>
      <type>
        <code value="Range"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-Range"/>
      </type>
      <type>
        <code value="Ratio"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-Ratio"/>
      </type>
      <type>
        <code value="Attachment"/>
      </type>
      <type>
        <code value="time"/>
      </type>
      <type>
        <code value="dateTime"/>
      </type>
      <type>
        <code value="Period"/>
      </type>
      <isSummary value="true"/>
      <mapping>
        <identity value="sct-concept"/>
        <map value="363714003 |Interprets| &lt; 441742003 |Evaluation finding|"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="OBX.2, OBX.5, OBX.6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="value"/>
      </mapping>
      <mapping>
        <identity value="sct-attr"/>
        <map value="363714003 |Interprets|"/>
      </mapping>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component.dataAbsentReason">
      <path value="Observation.component.dataAbsentReason"/>
      <short value="Why the component result is missing"/>
      <definition value="Provides a reason why the expected value in the element Observation.value[x] is missing."/>
      <comment value="&quot;Null&quot; or exceptional values can be represented two ways in FHIR Observations.  One way is to simply include them in the value set and represent the exceptions in the value.  For example, measurement values for a serology test could be  &quot;detected&quot;, &quot;not detected&quot;, &quot;inconclusive&quot;, or  &quot;test not done&quot;.   The alternate way is to use the value element for actual observations and use the explicit dataAbsentReason element to record exceptional values.  For example, the dataAbsentReason code &quot;error&quot; could be used when the measurement was not completed.  Because of these options, use-case agreements are required to interpret general observations for exceptional values."/>
      <requirements value="For many results it is necessary to handle exceptional values in measurements."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <condition value="obs-6"/>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/finding/vs/ValueAbsentReasonVS"/>
        </valueSetReference>
      </binding>
>>>>>>> 92b20c342... 12/19/17 updates
      <mapping>
        <identity value="v2"/>
        <map value="IAM-14 (if patient) / IAM-18 (if practitioner)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=INF].role"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="who.source"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.lastOccurrence">
      <path value="AllergyIntolerance.lastOccurrence"/>
      <short value="Date(/time) of last known occurrence of a reaction"/>
      <definition value="Represents the date and/or time of the last known occurrence of a reaction event."/>
      <comment value="This date may be replicated by one of the Onset of Reaction dates. Where a textual representation of the date of last occurrence is required e.g. &#39;In Childhood, &#39;10 years ago&#39; the Comment element should be used."/>
      <min value="0"/>
      <max value="0"/>
      <type>
        <code value="dateTime"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="outBoundRelationship[typeCode=SUBJ].target[classCode=OBS, moodCode=EVN, code &lt;= CommonClinicalObservationType, value &lt;= ObservationValue (Reaction Type)].effectiveTime"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.note">
      <path value="AllergyIntolerance.note"/>
      <short value="Additional text not captured in other fields"/>
      <definition value="Additional narrative about the propensity for the Adverse Reaction, not captured in other fields."/>
      <comment value="For example: including reason for flagging a seriousness of &#39;High Risk&#39;; and instructions related to future exposure or administration of the substance, such as administration within an Intensive Care Unit or under corticosteroid cover. The notes should be related to an allergy or intolerance as a condition in general and not related to any particular episode of it. For episode notes and descriptions, use AllergyIntolerance.event.description and  AllergyIntolerance.event.notes."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Annotation"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="subjectOf.observationEvent[code=&quot;annotation&quot;].value"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction">
      <path value="AllergyIntolerance.reaction"/>
      <short value="Adverse Reaction Events linked to exposure to substance"/>
      <definition value="Details about each adverse reaction event linked to exposure to the identified substance."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() | (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="Element"/>
      </constraint>
      <mapping>
        <identity value="rim"/>
        <map value="outBoundRelationship[typeCode=SUBJ].target[classCode=OBS, moodCode=EVN, code &lt;= CommonClinicalObservationType, value &lt;= ObservationValue (Reaction Type)]"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.id">
      <path value="AllergyIntolerance.reaction.id"/>
      <representation value="xmlAttr"/>
      <short value="xml:id (or equivalent in JSON)"/>
      <definition value="unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.extension">
      <path value="AllergyIntolerance.reaction.extension"/>
      <short value="Additional Content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.modifierExtension">
      <path value="AllergyIntolerance.reaction.modifierExtension"/>
      <short value="Extensions that cannot be ignored"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <isModifier value="true"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.substance">
      <path value="AllergyIntolerance.reaction.substance"/>
      <short value="Specific substance or pharmaceutical product considered to be responsible for event"/>
      <definition value="Identification of the specific substance (or pharmaceutical product) considered to be responsible for the Adverse Reaction event. Note: the substance for a specific reaction may be different from the substance identified as the cause of the risk, but it must be consistent with it. For instance, it may be a more specific substance (e.g. a brand medication) or a composite product that includes the identified substance. It must be clinically safe to only process the &#39;code&#39; and ignore the &#39;reaction.substance&#39;."/>
      <comment value="Coding of the specific substance (or pharmaceutical product) with a terminology capable of triggering decision support should be used wherever possible.  The &#39;code&#39; element allows for the use of a specific substance or pharmaceutical product, or a group or class of substances. In the case of an allergy or intolerance to a class of substances, (for example, &quot;penicillins&quot;), the &#39;reaction.substance&#39; element could be used to code the specific substance that was identifed as having caused the reaction (for example, &quot;amoxycillin&quot;). Duplication of the value in the &#39;code&#39; and &#39;reaction.substance&#39; elements is acceptable when a specific substance has been recorded in &#39;code&#39;."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="SubstanceCode"/>
        </extension>
        <strength value="example"/>
        <description value="Codes defining the type of the substance (including pharmaceutical products)."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/substance-code"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="outBoundRelationship[typeCode=SAS].target[classCode=SBADM, code &lt;= ExposureCode].participation[typeCode=CSM].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code &lt;= ExposureAgentEntityType]"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.manifestation">
      <path value="AllergyIntolerance.reaction.manifestation"/>
      <short value="Clinical symptoms/signs associated with the Event"/>
      <definition value="Clinical symptoms and/or signs that are observed or associated with the adverse reaction event."/>
      <comment value="Manifestation can be expressed as a single word, phrase or brief description. For example: nausea, rash or no reaction. It is preferable that manifestation should be coded with a terminology, where possible. The values entered here may be used to display on an application screen as part of a list of adverse reactions, as recommended in the UK NHS CUI guidelines.  Terminologies commonly used include, but are not limited to, SNOMED CT or ICD10."/>
      <alias value="Symptoms"/>
      <alias value="Signs"/>
      <min value="1"/>
      <max value="*"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Manifestation"/>
        </extension>
        <strength value="example"/>
        <description value="Clinical symptoms and/or signs that are observed or associated with an Adverse Reaction Event."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/clinical-findings"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="AL1-5"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="code"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.description">
      <path value="AllergyIntolerance.reaction.description"/>
      <short value="Description of the event as a whole"/>
      <definition value="Text description about the reaction as a whole, including details of the manifestation if required."/>
      <comment value="Use the description to provide any details of a particular event of the occurred reaction such as circumstances, reaction specifics, what happened before/after. Information, related to the event, but not describing a particular care should be captured in the comment field. For example: at the age of four, the patient was given penicillin for strep throat and subsequently developed severe hives."/>
      <alias value="Narrative"/>
      <alias value="Text"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="string"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="text"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.onset">
      <path value="AllergyIntolerance.reaction.onset"/>
      <short value="Date(/time) when manifestations showed"/>
      <definition value="Record of the date and/or time of the onset of the Reaction."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="dateTime"/>
      </type>
      <mapping>
        <identity value="v2"/>
        <map value="AL1-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="effectiveTime.low"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.severity">
      <path value="AllergyIntolerance.reaction.severity"/>
      <short value="mild | moderate | severe (of event as a whole)"/>
      <definition value="Clinical assessment of the severity of the reaction event as a whole, potentially considering multiple different manifestations."/>
      <comment value="It is acknowledged that this assessment is very subjective. There may be some some specific practice domains where objective scales have been applied. Objective scales can be included in this model as extensions."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="AllergyIntoleranceSeverity"/>
        </extension>
        <strength value="required"/>
        <description value="Clinical assessment of the severity of a reaction event as a whole, potentially considering multiple different manifestations."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/reaction-event-severity"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=SUBJ].source[classCode=OBS, moodCode=EVN, code=SEV, value &lt;= SeverityObservation (Severity Level)]"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.exposureRoute">
      <path value="AllergyIntolerance.reaction.exposureRoute"/>
      <short value="How the subject was exposed to the substance"/>
      <definition value="Identification of the route by which the subject was exposed to the substance."/>
      <comment value="Coding of the route of exposure with a terminology should be used wherever possible."/>
      <min value="0"/>
      <max value="1"/>
      <type>
<<<<<<< HEAD
        <code value="CodeableConcept"/>
=======
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-FocalSubject-extension"/>
      </type>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.extension:focalsubjectreference">
      <path value="Observation.extension"/>
      <sliceName value="focalsubjectreference"/>
      <definition value="For use when FHIR&#39;s subject does not allow the desired type of Subject in the Finding.Subject field."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-FocalSubjectReference-extension"/>
>>>>>>> 92b20c342... 12/19/17 updates
      </type>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="RouteOfAdministration"/>
        </extension>
        <strength value="example"/>
        <description value="A coded concept describing the route or physiological path of administration of a therapeutic agent into or onto the body of a subject."/>
        <valueSetReference>
          <reference value="http://hl7.org/fhir/ValueSet/route-codes"/>
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="outBoundRelationship[typeCode=SAS].target[classCode=SBADM, code &lt;= ExposureCode].routeCode"/>
      </mapping>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.reaction.note">
      <path value="AllergyIntolerance.reaction.note"/>
      <short value="Text about event not captured in other fields"/>
      <definition value="Additional text about the adverse reaction event not captured in other fields."/>
      <comment value="Use this field to record information indirectly related to a particular event and not captured in the description. For example: Clinical records are no longer available, recorded based on information provided to the patient by her mother and her mother is deceased."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Annotation"/>
      </type>
      <mapping>
        <identity value="rim"/>
        <map value="subjectOf.observationEvent[code=&quot;annotation&quot;].value"/>
      </mapping>
    </element>
  </snapshot>
  <differential>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy">
      <path value="AllergyIntolerance"/>
      <short value="SHR NoKnownAllergy Profile"/>
      <definition value="The subject has no known allergies to drugs, foods, biologics, or environmental factors."/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.extension:abatement">
      <path value="AllergyIntolerance.extension"/>
      <sliceName value="abatement"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-condition-Abatement-extension"/>
      </type>
      <mustSupport value="false"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.modifierExtension:assertionnegationmodifier">
      <path value="AllergyIntolerance.modifierExtension"/>
      <sliceName value="assertionnegationmodifier"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-base-AssertionNegationModifier-extension"/>
      </type>
      <fixedBoolean value="true"/>
      <mustSupport value="true"/>
      <isModifier value="true"/>
      <isSummary value="false"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.verificationStatus">
      <path value="AllergyIntolerance.verificationStatus"/>
      <fixedCode value="unconfirmed"/>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/allergy/vs/AllergyVerificationStatusVS"/>
        </valueSetReference>
      </binding>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.type">
      <path value="AllergyIntolerance.type"/>
      <fixedCode value="allergy"/>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category">
      <path value="AllergyIntolerance.category"/>
      <slicing id="30">
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding">
      <path value="Observation.code.coding"/>
      <slicing id="99">
>>>>>>> 92b20c342... 12/19/17 updates
        <discriminator>
          <type value="value"/>
          <path value="$this"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:environment">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="environment"/>
      <min value="1"/>
      <max value="1"/>
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625">
      <path value="Observation.code.coding"/>
      <sliceName value="Fixed_C1301625"/>
      <definition value="A reference to a code defined by a terminology system."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Coding"/>
      </type>
      <isSummary value="true"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.system">
      <path value="Observation.code.coding.system"/>
      <fixedUri value="http://ncimeta.nci.nih.gov"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.code.coding:Fixed_C1301625.code">
      <path value="Observation.code.coding.code"/>
      <fixedCode value="C1301625"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.subject">
      <path value="Observation.subject"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-entity-Patient"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-entity-Group"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-device-Device"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-Geoposition"/>
      </type>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.context">
      <path value="Observation.context"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="environment"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:biologic">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="biologic"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="biologic"/>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:medication">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="medication"/>
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.value[x]">
      <path value="Observation.value[x]"/>
      <slicing id="100">
        <discriminator>
          <type value="type"/>
          <path value="$this"/>
        </discriminator>
        <ordered value="false"/>
        <rules value="open"/>
      </slicing>
>>>>>>> 92b20c342... 12/19/17 updates
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="medication"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.category:food">
      <path value="AllergyIntolerance.category"/>
      <sliceName value="food"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="food"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.criticality">
      <path value="AllergyIntolerance.criticality"/>
      <min value="0"/>
      <max value="0"/>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.code">
      <path value="AllergyIntolerance.code"/>
      <min value="0"/>
      <max value="0"/>
      <type>
        <code value="CodeableConcept"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-CodeableConcept"/>
      </type>
      <binding>
        <strength value="required"/>
        <valueSetReference>
          <reference value="http://standardhealthrecord.org/shr/allergy/vs/AllergenIrritantVS"/>
        </valueSetReference>
      </binding>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.onset[x]">
      <path value="AllergyIntolerance.onset[x]"/>
      <min value="0"/>
      <max value="0"/>
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.specimen">
      <path value="Observation.specimen"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-entity-Specimen"/>
      </type>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.device">
      <path value="Observation.device"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <type>
        <code value="dateTime"/>
      </type>
<<<<<<< HEAD
=======
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange">
      <path value="Observation.referenceRange"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.referenceRange.low">
      <path value="Observation.referenceRange.low"/>
>>>>>>> 92b20c342... 12/19/17 updates
      <type>
        <code value="Age"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-Age"/>
      </type>
      <type>
        <code value="Period"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-TimePeriod"/>
      </type>
      <type>
        <code value="Range"/>
        <profile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-core-AgeRange"/>
      </type>
    </element>
<<<<<<< HEAD
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.assertedDate">
      <path value="AllergyIntolerance.assertedDate"/>
      <min value="1"/>
      <max value="1"/>
=======
    <element id="Observation:shr-allergy-NoKnownAllergy.related">
      <path value="Observation.related"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.type">
      <path value="Observation.related.type"/>
      <fixedCode value="has-member"/>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.related.target">
      <path value="Observation.related.target"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-finding-Observation"/>
      </type>
    </element>
    <element id="Observation:shr-allergy-NoKnownAllergy.component">
      <path value="Observation.component"/>
>>>>>>> 92b20c342... 12/19/17 updates
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.recorder">
      <path value="AllergyIntolerance.recorder"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-actor-Practitioner"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-demographics-PersonOfRecord"/>
      </type>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.asserter">
      <path value="AllergyIntolerance.asserter"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-demographics-PersonOfRecord"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-actor-RelatedPerson"/>
      </type>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://standardhealthrecord.org/fhir/StructureDefinition/shr-actor-Practitioner"/>
      </type>
    </element>
    <element id="AllergyIntolerance:shr-allergy-NoKnownAllergy.lastOccurrence">
      <path value="AllergyIntolerance.lastOccurrence"/>
      <min value="0"/>
      <max value="0"/>
    </element>
  </differential>
</StructureDefinition>